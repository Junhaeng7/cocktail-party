{"ast":null,"code":"import { useCallback } from 'react';\nimport addStyle from 'dom-lib/addStyle';\nimport { SCROLLBAR_WIDTH } from '../constants';\nimport toggleClass from './toggleClass';\nimport useUpdateEffect from './useUpdateEffect';\n\n/**\n * Update the position of the table according to the scrolling information of the table.\n * @param props\n * @returns\n */\nvar usePosition = function usePosition(props) {\n  var data = props.data,\n    height = props.height,\n    tableWidth = props.tableWidth,\n    tableRef = props.tableRef,\n    prefix = props.prefix,\n    translateDOMPositionXY = props.translateDOMPositionXY,\n    wheelWrapperRef = props.wheelWrapperRef,\n    headerWrapperRef = props.headerWrapperRef,\n    affixHeaderWrapperRef = props.affixHeaderWrapperRef,\n    tableHeaderRef = props.tableHeaderRef,\n    scrollX = props.scrollX,\n    scrollY = props.scrollY,\n    contentWidth = props.contentWidth,\n    shouldFixedColumn = props.shouldFixedColumn;\n  var getScrollCellGroups = useCallback(function () {\n    var _tableRef$current;\n    return (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.querySelectorAll(\".\" + prefix('cell-group-scroll'));\n  }, [prefix, tableRef]);\n  var getFixedLeftCellGroups = useCallback(function () {\n    var _tableRef$current2;\n    return (_tableRef$current2 = tableRef.current) === null || _tableRef$current2 === void 0 ? void 0 : _tableRef$current2.querySelectorAll(\".\" + prefix('cell-group-fixed-left'));\n  }, [prefix, tableRef]);\n  var getFixedRightCellGroups = useCallback(function () {\n    var _tableRef$current3;\n    return (_tableRef$current3 = tableRef.current) === null || _tableRef$current3 === void 0 ? void 0 : _tableRef$current3.querySelectorAll(\".\" + prefix('cell-group-fixed-right'));\n  }, [prefix, tableRef]);\n  var updatePositionByFixedCell = useCallback(function () {\n    var wheelGroupStyle = {};\n    var wheelStyle = {};\n    var scrollGroups = getScrollCellGroups();\n    var fixedLeftGroups = getFixedLeftCellGroups();\n    var fixedRightGroups = getFixedRightCellGroups();\n    translateDOMPositionXY.current(wheelGroupStyle, scrollX.current, 0);\n    translateDOMPositionXY.current(wheelStyle, 0, scrollY.current);\n    var scrollArrayGroups = Array.from(scrollGroups);\n    for (var i = 0; i < scrollArrayGroups.length; i++) {\n      var group = scrollArrayGroups[i];\n      addStyle(group, wheelGroupStyle);\n    }\n    if (wheelWrapperRef !== null && wheelWrapperRef !== void 0 && wheelWrapperRef.current) {\n      addStyle(wheelWrapperRef.current, wheelStyle);\n    }\n    var leftShadowClassName = prefix('cell-group-left-shadow');\n    var rightShadowClassName = prefix('cell-group-right-shadow');\n    var showLeftShadow = scrollX.current < 0;\n    var showRightShadow = tableWidth.current - contentWidth.current - SCROLLBAR_WIDTH !== scrollX.current;\n    toggleClass(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n    toggleClass(fixedRightGroups, rightShadowClassName, showRightShadow);\n  }, [contentWidth, getFixedLeftCellGroups, getFixedRightCellGroups, getScrollCellGroups, prefix, scrollX, scrollY, tableWidth, translateDOMPositionXY, wheelWrapperRef]);\n  var updatePosition = useCallback(function () {\n    // When there are fixed columns.\n    if (shouldFixedColumn) {\n      updatePositionByFixedCell();\n    } else {\n      var _affixHeaderElement$h;\n      var wheelStyle = {};\n      var headerStyle = {};\n      translateDOMPositionXY.current(wheelStyle, scrollX.current, scrollY.current);\n      translateDOMPositionXY.current(headerStyle, scrollX.current, 0);\n      var wheelElement = wheelWrapperRef === null || wheelWrapperRef === void 0 ? void 0 : wheelWrapperRef.current;\n      var headerElement = headerWrapperRef === null || headerWrapperRef === void 0 ? void 0 : headerWrapperRef.current;\n      var affixHeaderElement = affixHeaderWrapperRef === null || affixHeaderWrapperRef === void 0 ? void 0 : affixHeaderWrapperRef.current;\n      wheelElement && addStyle(wheelElement, wheelStyle);\n      headerElement && addStyle(headerElement, headerStyle);\n      if (affixHeaderElement !== null && affixHeaderElement !== void 0 && (_affixHeaderElement$h = affixHeaderElement.hasChildNodes) !== null && _affixHeaderElement$h !== void 0 && _affixHeaderElement$h.call(affixHeaderElement)) {\n        addStyle(affixHeaderElement === null || affixHeaderElement === void 0 ? void 0 : affixHeaderElement.firstChild, headerStyle);\n      }\n    }\n    if (tableHeaderRef !== null && tableHeaderRef !== void 0 && tableHeaderRef.current) {\n      toggleClass(tableHeaderRef.current, prefix('cell-group-shadow'), scrollY.current < 0);\n    }\n  }, [affixHeaderWrapperRef, headerWrapperRef, prefix, scrollX, scrollY, shouldFixedColumn, tableHeaderRef, translateDOMPositionXY, updatePositionByFixedCell, wheelWrapperRef]);\n  useUpdateEffect(function () {\n    if (scrollY.current !== 0) {\n      updatePosition();\n    }\n  }, [height, data]);\n  return {\n    forceUpdatePosition: updatePosition\n  };\n};\nexport default usePosition;","map":{"version":3,"names":["useCallback","addStyle","SCROLLBAR_WIDTH","toggleClass","useUpdateEffect","usePosition","props","data","height","tableWidth","tableRef","prefix","translateDOMPositionXY","wheelWrapperRef","headerWrapperRef","affixHeaderWrapperRef","tableHeaderRef","scrollX","scrollY","contentWidth","shouldFixedColumn","getScrollCellGroups","_tableRef$current","current","querySelectorAll","getFixedLeftCellGroups","_tableRef$current2","getFixedRightCellGroups","_tableRef$current3","updatePositionByFixedCell","wheelGroupStyle","wheelStyle","scrollGroups","fixedLeftGroups","fixedRightGroups","scrollArrayGroups","Array","from","i","length","group","leftShadowClassName","rightShadowClassName","showLeftShadow","showRightShadow","updatePosition","_affixHeaderElement$h","headerStyle","wheelElement","headerElement","affixHeaderElement","hasChildNodes","call","firstChild","forceUpdatePosition"],"sources":["/Users/Junhaeng/untitled folder/junior-design/amplifyapp/node_modules/rsuite-table/es/utils/usePosition.js"],"sourcesContent":["import { useCallback } from 'react';\nimport addStyle from 'dom-lib/addStyle';\nimport { SCROLLBAR_WIDTH } from '../constants';\nimport toggleClass from './toggleClass';\nimport useUpdateEffect from './useUpdateEffect';\n\n/**\n * Update the position of the table according to the scrolling information of the table.\n * @param props\n * @returns\n */\nvar usePosition = function usePosition(props) {\n  var data = props.data,\n      height = props.height,\n      tableWidth = props.tableWidth,\n      tableRef = props.tableRef,\n      prefix = props.prefix,\n      translateDOMPositionXY = props.translateDOMPositionXY,\n      wheelWrapperRef = props.wheelWrapperRef,\n      headerWrapperRef = props.headerWrapperRef,\n      affixHeaderWrapperRef = props.affixHeaderWrapperRef,\n      tableHeaderRef = props.tableHeaderRef,\n      scrollX = props.scrollX,\n      scrollY = props.scrollY,\n      contentWidth = props.contentWidth,\n      shouldFixedColumn = props.shouldFixedColumn;\n  var getScrollCellGroups = useCallback(function () {\n    var _tableRef$current;\n\n    return (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.querySelectorAll(\".\" + prefix('cell-group-scroll'));\n  }, [prefix, tableRef]);\n  var getFixedLeftCellGroups = useCallback(function () {\n    var _tableRef$current2;\n\n    return (_tableRef$current2 = tableRef.current) === null || _tableRef$current2 === void 0 ? void 0 : _tableRef$current2.querySelectorAll(\".\" + prefix('cell-group-fixed-left'));\n  }, [prefix, tableRef]);\n  var getFixedRightCellGroups = useCallback(function () {\n    var _tableRef$current3;\n\n    return (_tableRef$current3 = tableRef.current) === null || _tableRef$current3 === void 0 ? void 0 : _tableRef$current3.querySelectorAll(\".\" + prefix('cell-group-fixed-right'));\n  }, [prefix, tableRef]);\n  var updatePositionByFixedCell = useCallback(function () {\n    var wheelGroupStyle = {};\n    var wheelStyle = {};\n    var scrollGroups = getScrollCellGroups();\n    var fixedLeftGroups = getFixedLeftCellGroups();\n    var fixedRightGroups = getFixedRightCellGroups();\n    translateDOMPositionXY.current(wheelGroupStyle, scrollX.current, 0);\n    translateDOMPositionXY.current(wheelStyle, 0, scrollY.current);\n    var scrollArrayGroups = Array.from(scrollGroups);\n\n    for (var i = 0; i < scrollArrayGroups.length; i++) {\n      var group = scrollArrayGroups[i];\n      addStyle(group, wheelGroupStyle);\n    }\n\n    if (wheelWrapperRef !== null && wheelWrapperRef !== void 0 && wheelWrapperRef.current) {\n      addStyle(wheelWrapperRef.current, wheelStyle);\n    }\n\n    var leftShadowClassName = prefix('cell-group-left-shadow');\n    var rightShadowClassName = prefix('cell-group-right-shadow');\n    var showLeftShadow = scrollX.current < 0;\n    var showRightShadow = tableWidth.current - contentWidth.current - SCROLLBAR_WIDTH !== scrollX.current;\n    toggleClass(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n    toggleClass(fixedRightGroups, rightShadowClassName, showRightShadow);\n  }, [contentWidth, getFixedLeftCellGroups, getFixedRightCellGroups, getScrollCellGroups, prefix, scrollX, scrollY, tableWidth, translateDOMPositionXY, wheelWrapperRef]);\n  var updatePosition = useCallback(function () {\n    // When there are fixed columns.\n    if (shouldFixedColumn) {\n      updatePositionByFixedCell();\n    } else {\n      var _affixHeaderElement$h;\n\n      var wheelStyle = {};\n      var headerStyle = {};\n      translateDOMPositionXY.current(wheelStyle, scrollX.current, scrollY.current);\n      translateDOMPositionXY.current(headerStyle, scrollX.current, 0);\n      var wheelElement = wheelWrapperRef === null || wheelWrapperRef === void 0 ? void 0 : wheelWrapperRef.current;\n      var headerElement = headerWrapperRef === null || headerWrapperRef === void 0 ? void 0 : headerWrapperRef.current;\n      var affixHeaderElement = affixHeaderWrapperRef === null || affixHeaderWrapperRef === void 0 ? void 0 : affixHeaderWrapperRef.current;\n      wheelElement && addStyle(wheelElement, wheelStyle);\n      headerElement && addStyle(headerElement, headerStyle);\n\n      if (affixHeaderElement !== null && affixHeaderElement !== void 0 && (_affixHeaderElement$h = affixHeaderElement.hasChildNodes) !== null && _affixHeaderElement$h !== void 0 && _affixHeaderElement$h.call(affixHeaderElement)) {\n        addStyle(affixHeaderElement === null || affixHeaderElement === void 0 ? void 0 : affixHeaderElement.firstChild, headerStyle);\n      }\n    }\n\n    if (tableHeaderRef !== null && tableHeaderRef !== void 0 && tableHeaderRef.current) {\n      toggleClass(tableHeaderRef.current, prefix('cell-group-shadow'), scrollY.current < 0);\n    }\n  }, [affixHeaderWrapperRef, headerWrapperRef, prefix, scrollX, scrollY, shouldFixedColumn, tableHeaderRef, translateDOMPositionXY, updatePositionByFixedCell, wheelWrapperRef]);\n  useUpdateEffect(function () {\n    if (scrollY.current !== 0) {\n      updatePosition();\n    }\n  }, [height, data]);\n  return {\n    forceUpdatePosition: updatePosition\n  };\n};\n\nexport default usePosition;"],"mappings":"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"},"metadata":{},"sourceType":"module"}