{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Logger_1 = require(\"./Logger\");\nvar logger = new Logger_1.ConsoleLogger('Parser');\nexports.parseMobileHubConfig = function (config) {\n  var amplifyConfig = {};\n  // Analytics\n  if (config['aws_mobile_analytics_app_id']) {\n    var Analytics = {\n      AWSPinpoint: {\n        appId: config['aws_mobile_analytics_app_id'],\n        region: config['aws_mobile_analytics_app_region']\n      }\n    };\n    amplifyConfig.Analytics = Analytics;\n  }\n  // Auth\n  if (config['aws_cognito_identity_pool_id'] || config['aws_user_pools_id']) {\n    amplifyConfig.Auth = {\n      userPoolId: config['aws_user_pools_id'],\n      userPoolWebClientId: config['aws_user_pools_web_client_id'],\n      region: config['aws_cognito_region'],\n      identityPoolId: config['aws_cognito_identity_pool_id'],\n      identityPoolRegion: config['aws_cognito_region'],\n      mandatorySignIn: config['aws_mandatory_sign_in'] === 'enable'\n    };\n  }\n  // Storage\n  var storageConfig;\n  if (config['aws_user_files_s3_bucket']) {\n    storageConfig = {\n      AWSS3: {\n        bucket: config['aws_user_files_s3_bucket'],\n        region: config['aws_user_files_s3_bucket_region'],\n        dangerouslyConnectToHttpEndpointForTesting: config['aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing']\n      }\n    };\n  } else {\n    storageConfig = config ? config.Storage || config : {};\n  }\n  // Logging\n  if (config['Logging']) {\n    amplifyConfig.Logging = __assign(__assign({}, config['Logging']), {\n      region: config['aws_project_region']\n    });\n  }\n  // Geo\n  if (config['geo']) {\n    amplifyConfig.Geo = Object.assign({}, config.geo);\n    if (config.geo['amazon_location_service']) {\n      amplifyConfig.Geo = {\n        AmazonLocationService: config.geo['amazon_location_service']\n      };\n    }\n  }\n  amplifyConfig.Analytics = Object.assign({}, amplifyConfig.Analytics, config.Analytics);\n  amplifyConfig.Auth = Object.assign({}, amplifyConfig.Auth, config.Auth);\n  amplifyConfig.Storage = Object.assign({}, storageConfig);\n  amplifyConfig.Logging = Object.assign({}, amplifyConfig.Logging, config.Logging);\n  logger.debug('parse config', config, 'to amplifyconfig', amplifyConfig);\n  return amplifyConfig;\n};\n/**\n * @deprecated use per-function export\n */\nvar Parser = /** @class */function () {\n  function Parser() {}\n  Parser.parseMobilehubConfig = exports.parseMobileHubConfig;\n  return Parser;\n}();\nexports.Parser = Parser;\n/**\n * @deprecated use per-function export\n */\nexports.default = Parser;","map":{"version":3,"names":["Logger_1","require","logger","ConsoleLogger","exports","parseMobileHubConfig","config","amplifyConfig","Analytics","AWSPinpoint","appId","region","Auth","userPoolId","userPoolWebClientId","identityPoolId","identityPoolRegion","mandatorySignIn","storageConfig","AWSS3","bucket","dangerouslyConnectToHttpEndpointForTesting","Storage","Logging","__assign","Geo","Object","assign","geo","AmazonLocationService","debug","Parser","parseMobilehubConfig","default"],"sources":["../src/Parser.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script"}