{"ast":null,"code":"import { useRef, useCallback, useEffect } from 'react';\nimport getHeight from 'dom-lib/getHeight';\nimport addStyle from 'dom-lib/addStyle';\nimport removeStyle from 'dom-lib/removeStyle';\nimport on from 'dom-lib/on';\nimport toggleClass from './toggleClass';\nimport isNumberOrTrue from './isNumberOrTrue';\nimport useUpdateEffect from './useUpdateEffect';\nvar useAffix = function useAffix(props) {\n  var tableHeight = props.tableHeight,\n    contentHeight = props.contentHeight,\n    affixHorizontalScrollbar = props.affixHorizontalScrollbar,\n    affixHeader = props.affixHeader,\n    tableOffset = props.tableOffset,\n    headerOffset = props.headerOffset,\n    headerHeight = props.headerHeight,\n    scrollbarXRef = props.scrollbarXRef,\n    affixHeaderWrapperRef = props.affixHeaderWrapperRef;\n  var scrollListener = useRef();\n  var handleAffixHorizontalScrollbar = useCallback(function () {\n    var _scrollbarXRef$curren;\n    var scrollY = window.scrollY || window.pageYOffset;\n    var windowHeight = getHeight(window);\n    var height = tableHeight();\n    var bottom = typeof affixHorizontalScrollbar === 'number' ? affixHorizontalScrollbar : 0;\n    var fixedScrollbar = scrollY + windowHeight < height + (tableOffset.current.top + bottom) && scrollY + windowHeight - headerHeight > tableOffset.current.top + bottom;\n    if (scrollbarXRef !== null && scrollbarXRef !== void 0 && (_scrollbarXRef$curren = scrollbarXRef.current) !== null && _scrollbarXRef$curren !== void 0 && _scrollbarXRef$curren.root) {\n      toggleClass(scrollbarXRef.current.root, 'fixed', fixedScrollbar);\n      if (fixedScrollbar) {\n        addStyle(scrollbarXRef.current.root, 'bottom', bottom + \"px\");\n      } else {\n        removeStyle(scrollbarXRef.current.root, 'bottom');\n      }\n    }\n  }, [affixHorizontalScrollbar, headerHeight, scrollbarXRef, tableHeight, tableOffset]);\n  var handleAffixTableHeader = useCallback(function () {\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var scrollY = window.scrollY || window.pageYOffset;\n    var fixedHeader = scrollY - (headerOffset.current.top - top) >= 0 && scrollY < headerOffset.current.top - top + contentHeight.current;\n    if (affixHeaderWrapperRef.current) {\n      toggleClass(affixHeaderWrapperRef.current, 'fixed', fixedHeader);\n    }\n  }, [affixHeader, affixHeaderWrapperRef, contentHeight, headerOffset]);\n  var handleWindowScroll = useCallback(function () {\n    if (isNumberOrTrue(affixHeader)) {\n      handleAffixTableHeader();\n    }\n    if (isNumberOrTrue(affixHorizontalScrollbar)) {\n      handleAffixHorizontalScrollbar();\n    }\n  }, [affixHeader, affixHorizontalScrollbar, handleAffixTableHeader, handleAffixHorizontalScrollbar]);\n  /**\n   * Update the position of the fixed element after the height of the table changes.\n   * fix: https://github.com/rsuite/rsuite/issues/1716\n   */\n\n  useUpdateEffect(handleWindowScroll, [tableHeight]);\n  useEffect(function () {\n    if (isNumberOrTrue(affixHeader) || isNumberOrTrue(affixHorizontalScrollbar)) {\n      scrollListener.current = on(window, 'scroll', handleWindowScroll);\n    }\n    return function () {\n      var _scrollListener$curre;\n      (_scrollListener$curre = scrollListener.current) === null || _scrollListener$curre === void 0 ? void 0 : _scrollListener$curre.off();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n};\nexport default useAffix;","map":{"version":3,"names":["useRef","useCallback","useEffect","getHeight","addStyle","removeStyle","on","toggleClass","isNumberOrTrue","useUpdateEffect","useAffix","props","tableHeight","contentHeight","affixHorizontalScrollbar","affixHeader","tableOffset","headerOffset","headerHeight","scrollbarXRef","affixHeaderWrapperRef","scrollListener","handleAffixHorizontalScrollbar","_scrollbarXRef$curren","scrollY","window","pageYOffset","windowHeight","height","bottom","fixedScrollbar","current","top","root","handleAffixTableHeader","fixedHeader","handleWindowScroll","_scrollListener$curre","off"],"sources":["/Users/Junhaeng/untitled folder/junior-design/amplifyapp/node_modules/rsuite-table/es/utils/useAffix.js"],"sourcesContent":["import { useRef, useCallback, useEffect } from 'react';\nimport getHeight from 'dom-lib/getHeight';\nimport addStyle from 'dom-lib/addStyle';\nimport removeStyle from 'dom-lib/removeStyle';\nimport on from 'dom-lib/on';\nimport toggleClass from './toggleClass';\nimport isNumberOrTrue from './isNumberOrTrue';\nimport useUpdateEffect from './useUpdateEffect';\n\nvar useAffix = function useAffix(props) {\n  var tableHeight = props.tableHeight,\n      contentHeight = props.contentHeight,\n      affixHorizontalScrollbar = props.affixHorizontalScrollbar,\n      affixHeader = props.affixHeader,\n      tableOffset = props.tableOffset,\n      headerOffset = props.headerOffset,\n      headerHeight = props.headerHeight,\n      scrollbarXRef = props.scrollbarXRef,\n      affixHeaderWrapperRef = props.affixHeaderWrapperRef;\n  var scrollListener = useRef();\n  var handleAffixHorizontalScrollbar = useCallback(function () {\n    var _scrollbarXRef$curren;\n\n    var scrollY = window.scrollY || window.pageYOffset;\n    var windowHeight = getHeight(window);\n    var height = tableHeight();\n    var bottom = typeof affixHorizontalScrollbar === 'number' ? affixHorizontalScrollbar : 0;\n    var fixedScrollbar = scrollY + windowHeight < height + (tableOffset.current.top + bottom) && scrollY + windowHeight - headerHeight > tableOffset.current.top + bottom;\n\n    if (scrollbarXRef !== null && scrollbarXRef !== void 0 && (_scrollbarXRef$curren = scrollbarXRef.current) !== null && _scrollbarXRef$curren !== void 0 && _scrollbarXRef$curren.root) {\n      toggleClass(scrollbarXRef.current.root, 'fixed', fixedScrollbar);\n\n      if (fixedScrollbar) {\n        addStyle(scrollbarXRef.current.root, 'bottom', bottom + \"px\");\n      } else {\n        removeStyle(scrollbarXRef.current.root, 'bottom');\n      }\n    }\n  }, [affixHorizontalScrollbar, headerHeight, scrollbarXRef, tableHeight, tableOffset]);\n  var handleAffixTableHeader = useCallback(function () {\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var scrollY = window.scrollY || window.pageYOffset;\n    var fixedHeader = scrollY - (headerOffset.current.top - top) >= 0 && scrollY < headerOffset.current.top - top + contentHeight.current;\n\n    if (affixHeaderWrapperRef.current) {\n      toggleClass(affixHeaderWrapperRef.current, 'fixed', fixedHeader);\n    }\n  }, [affixHeader, affixHeaderWrapperRef, contentHeight, headerOffset]);\n  var handleWindowScroll = useCallback(function () {\n    if (isNumberOrTrue(affixHeader)) {\n      handleAffixTableHeader();\n    }\n\n    if (isNumberOrTrue(affixHorizontalScrollbar)) {\n      handleAffixHorizontalScrollbar();\n    }\n  }, [affixHeader, affixHorizontalScrollbar, handleAffixTableHeader, handleAffixHorizontalScrollbar]);\n  /**\n   * Update the position of the fixed element after the height of the table changes.\n   * fix: https://github.com/rsuite/rsuite/issues/1716\n   */\n\n  useUpdateEffect(handleWindowScroll, [tableHeight]);\n  useEffect(function () {\n    if (isNumberOrTrue(affixHeader) || isNumberOrTrue(affixHorizontalScrollbar)) {\n      scrollListener.current = on(window, 'scroll', handleWindowScroll);\n    }\n\n    return function () {\n      var _scrollListener$curre;\n\n      (_scrollListener$curre = scrollListener.current) === null || _scrollListener$curre === void 0 ? void 0 : _scrollListener$curre.off();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n};\n\nexport default useAffix;"],"mappings":"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"},"metadata":{},"sourceType":"module"}